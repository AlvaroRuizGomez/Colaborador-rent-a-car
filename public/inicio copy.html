<!DOCTYPE html>
<html lang="<%=it.locations.idioma_web%>">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="nofollow">
    <meta name="googlebot" content="none" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%=it.locations.titulo%></title>
    <!-- <link rel="stylesheet" href="./css/reset.css"> -->
    <!-- ------------------- DatePicker JQuery ------------------------- -->
    <link rel="stylesheet" href="jquery-ui-1.13/jquery-ui.css">
    <script src="jquery/jquery-3.5.1.min.js"></script>
    <script src="jquery-ui-1.13/jquery-ui.js"></script>
    <!-- --------------------------------------------------- -->

    <!-- ------------- Clock Picker jQuery ----------------- -->
    <link rel="stylesheet" href="./css/clockpicker.css">
    
    <!-- --------------------------------------------------- -->

    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="./css/header.css">
    <link rel="stylesheet" href="./css/footer.css">

    <!----------------------------------- Fonts --------------------------------------->
    <!-- <link rel="preconnect" href="https://fonts.gstatic.com"> -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Caveat&display=swap" rel="stylesheet "> -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">

    <!------------------------------ Font Faster R ----------------------------------->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Allura&family=Arizonia&family=Charmonman:wght@700&family=Damion&family=Faster+One&family=Galada&family=Gravitas+One&family=Montez&family=Sarina&family=Sonsie+One&display=swap" rel="stylesheet">   -->
    <!--------------------------------------------------------------------------------->

    <!------------------- Bootstrap CSS ------------------------>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script async src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <!-- --------------------------------------------------- -->

    <!-- Sociales -->
    <meta property="og:title" content="titulo" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://" />
    <meta property="og:image" content="http://url_completa" />

    <meta property="og:image:width" content="250" />
    <meta property="og:image:height" content="200" />

    <meta property="og:locale" content="es_ES" />
    <meta property="og:locale:alternate" content="it_IT" />
    <meta property="og:locale:alternate" content="en_GB" />
    <meta property="og:locale:alternate" content="de_DE" />

    <!-- Favicon -->
    <link rel="icon" href="./img/Img-Logo/rentacar_favicon-32.png" sizes="32x32">
    <link rel="icon" href="./img/Img-Logo/rentacar_favicon-57.png" sizes="57x57">
    <link rel="icon" href="./img/Img-Logo/rentacar_favicon-76.png" sizes="76x76">
    <link rel="icon" href="./img/Img-Logo/rentacar_favicon-96.png" sizes="96x96">
    <link rel="icon" href="./img/Img-Logo/rentacar_favicon-128.png" sizes="128x128">
    <link rel="icon" href="./img/Img-Logo/rentacar_favicon-192.png" sizes="192x192">
    <link rel="icon" href="./img/Img-Logo/rentacar_favicon-228.png" sizes="228x228">
    
    <!-- Favicon Android -->
    <link rel="shortcut icon" href="./img/Img-Logo/rentacar_favicon-196.png" sizes="196x196">
    
    <!-- Favicon IOS -->
    <link rel="apple-touch-icon" href="./img/Img-Logo/rentacar_favicon-120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="./img/Img-Logo/rentacar_favicon-152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="./img/Img-Logo/rentacar_favicon-180.png" sizes="180x180">

</head>

<body>
    <!-- Inicio container -->
    <div id="container">
        <!-- Inicio Cabecera -->
        <%~ includeFile("header.html", it) %>
        <!-- Fin Cabecera -->

        <section id="eslogan">
            <%=it.locations.eslogan%>
        </section>
        
        <!------------ Inicio contenido ------------------------->
        <div class="contenedor">
        <main id="content">
            <!-------- Inicio Formulario de Busqueda ------------>
            <input type="hidden" id="traDia" name="traDia" value="<%=it.locations.dia %>">
            <input type="hidden" id="traDias" name="traDias" value="<%=it.locations.dias %>">
            <form id="formulario-index" class="formContainer" method="POST" action="/busqueda">
                <input type="hidden" name="success" value="<%=it.success %>">
                <input type="hidden" name="idioma" value="<%=it.locations.idioma_web%>">
                <input type="hidden" name="fase" value="1">
                
                <div class="formTit">
                    <h2>
                        <%=it.locations.titulo_form%>
                    </h2>
                    <img class="forma_rectangulo" src="./img/svg/forma_rectangulo.svg" alt="rectangulo dias">
                    <% if ( it.numeroDias ) { %>
                        <% if (it.numeroDias - 0 === 1 ) { %>
                        <span id="numerodias" class="numerodias"><%=it.numeroDias %> <%=it.locations.dia %></span>
                        <% } else { %>
                        <span id="numerodias" class="numerodias"><%=it.numeroDias %> <%=it.locations.dias %></span>
                        <% } %>
                        <input type="hidden" id="numerodiasHidden" name="numeroDias" value="<%=it.numeroDias %>">
                    <% } else { %>
                        <span id="numerodias" class="numerodias">3</span>
                        <input type="hidden" id="numerodiasHidden" name="numeroDias" value="3">
                    <% } %>
                </div>
                <div class="grid-container">
                    <% if (it.errorFormulario !==undefined ) { %>
                    <label>
                        <%= it.locations[it.errorFormulario] %>
                    </label>
                    <% } %>
                    <!--------- Recogida Fecha y Hora -------->
                    <div class="recogidaDateTit" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_fecha_recogida_informacion%>">
                        <p>
                            <%= it.locations.recogida %>
                        </p>
                    </div>
    
                    <div class="recogidaDateData">
                        <input type="text" class="input-color form-control-date datepicker " id="fechaRecogida" name="fechaRecogida" value="" data-placement="right" data-align="bottom" data-name="" readonly="">
                    </div>
    
                    <div class="recogidaDateIcon" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_fecha_recogida_informacion%>">
                        <img src="./img/img-Calendar/calendar.svg" alt="<%=it.locations.calendariorecogida %>" class="img-calendar triggerRec">
                    </div>
    
                    <!-- ------------------------------------- -->
                    <div class="recogidaClockTit" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_hora_recogida_informacion%>" >
                        <p>
                            <%= it.locations.hora %>
                        </p>
                    </div>

                    <div class="recogidaClockData input-group2  clockpicker" data-placement="bottom" data-align="top" data-autoclose="true">
                        <input type="text" class="input-color form-control-clock"  id="horaRecogida" name="horaRecogida" value="09:00" readonly="" />
                        <span class="input-group-addon" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_hora_recogida_informacion%>">
                            <img src="./img/Img-Clock/clock.avif" alt="<%=it.locations.relojrecogida %>" class="img-clock">
                        </span>
                    </div>

                    <!------- Devolución Fecha y Hora  -------->
                    <div class="devolucionDateTit" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_fecha_devolucion_informacion%>">
                        <p>
                            <%=it.locations.devolucion %>
                        </p>
                    </div>
    
                    <div class="devolucionDateData">
                        <input type="text" class=" input-color  form-control-date datepicker " id="fechaDevolucion" name="fechaDevolucion" value="" data-placement="right" data-align="bottom" data-name="" readonly="">  
                    </div>
    
                    <div class="devolucionDateIcon" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_fecha_devolucion_informacion%>">
                        <img src="./img/img-Calendar/calendar.svg" alt="<%=it.locations.calendariodevolucion %>" class="img-calendar triggerDev">
                    </div>
    
                    <!------- Devolución Hora ---------->
                    <div class="devolucionClockTit" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_hora_devolucion_informacion%>">
                        <p>
                            <%=it.locations.hora %>
                        </p>
                    </div>

                    <div class="devolucionClockData input-group2 clockpicker" data-placement="bottom" data-align="top" data-autoclose="true">
                        <input type="text" class="input-color form-control-clock" id="horaDevolucion" name="horaDevolucion" value="20:00" readonly="" />
                        <span class="input-group-addon" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_hora_devolucion_informacion%>">
                            <img src="./img/Img-Clock/clock.avif" alt="<%=it.locations.relojdevolucion %>" class="img-clock">
                        </span>
                    </div>
                    
                    <!------- Conductor Novel -------->
                    <div class="driverNovel" >
                        <div class="form-chequeo columna-centrado">
                            
                            <section class="centrado columna-gap-10 margen-abajo">
                                <input id="rangoedad" type="checkbox" name="conductor_con_experiencia" value="on" class="elemento__inputradio" checked="checked">
                                <label class="elemento__circulo" for="rangoedad"></label>
                                <label class="elemento__titulo" for="rangoedad"><%=it.locations.conductor_experiencia %></label>
                            </section>

                            <!------- Edad Conductor --------->
                                <section id="desplegable_edad" class="columna-centrado visible gap-10 colapsable-content">
                                    <div class="justificado-derecha" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_edad_conductor_informacion%>">
                                        <label for="edad_conductor" class="texto_edadconductor"><%=it.locations.edad_conductor %></label>
                                        <input id="edad_conductor" type="number" name="edad_conductor" value="22" min="21" max="70" class="edad_conductor" required>

                                    </div>
                                    
                                    <div class="justificado-derecha" data-tooltip-location="top" data-tooltip="<%=it.locations.tooltip_edad_anyos_carnet_informacion %>">
                                        <label for="anyos_carnet" class="texto_edadconductor"><%=it.locations.anyos_carnet %></label>
                                        <input id="anyos_carnet" type="number" name="anyos_carnet" value="2" min="2" max="70" class="edad_conductor extra-padding" required>

                                    </div>
                                </section>
                        </div> 
                    </div>
                
    
                    <!------- Boton Ver ofertas --------->
                    <div class="verPrecio">
                        <section class="btnBuscar">
                            <button type="submit" id="boton-VerPrecios" class="btn btn-primary btn-sm btn-block">
                                <%=it.locations.ver_precios %>
                            </button>
                        </section>
                    </div>
                </div>
            </form>

            <!-------------------------- Fin Formulario de Busqueda ------------------------------->
            
            <!-------- Inicio Tarjetas --------->
            <section class="page-content">
            
                <% for (let i=0; i < it.data.length; i++) { %>
                
                    <div class="card lazyload <%=it.data[i]["ImagenVehiclo"] %>">
                        
                        <a class="form-line" href="/car/<%=it.data[i]["vehiculo"] %>.html?id=<%=it.data[i]["vehiculo"]%>&success=<%=it.success %>&fase=2&idioma=<%=it.locations.idioma_web %>&vehiculo=<%=it.data[i]["vehiculo"] %>&fechaRecogida=&horaRecogida=&fechaDevolucion=&horaDevolucion=&conductor_con_experiencia=&edad_conductor=&anyos_carnet=&" id="<%=it.data[i]["vehiculo"] %>">
                            
                            <div class="content">
                                <picture>
                                    <source srcset="./img/Img-Logo/Logo-Marca-Coche/<%=it.data[i]["logoMarcaCoche"] %>.avif">
                                    <source srcset="./img/Img-Logo/Logo-Marca-Coche/<%=it.data[i]["logoMarcaCoche"] %>.webp">
                                    <img src="./img/Img-Logo/Logo-Marca-Coche/<%=it.data[i]["logoMarcaCoche"] %>.png" class="imgLogo logo-<%=it.data[i]["ImagenVehiclo"] %>" alt="<%=it.data[i]["logoMarcaCoche"]%>">
                                </picture>
                                <h2 class="title title-<%=it.data[i]["ImagenVehiclo"] %>"><%=it.data[i]["descripcion"]%>
                                </h2>
                                <div class="content-card">
                                    <br>
                                    <br>
                                    <div class="car-info-services">
                                        <div class="servicios-asientos">
                                            <img class="icon-24" src="./img/svg/persona.svg" alt="<%=it.locations.alt_persona%>">
                                            <div class="icon-number">
                                                <%=it.data[i]["pax"]%>
                                            </div>
                                        </div>
                                        <% if (it.data[i]["puertas"]> 0 ) { %>
                                            <div class="servicios-puertas">
                                                <img class="icon-24" src="img/svg/puerta.svg" alt="<%=it.locations.alt_puerta%>">
                                                <div class="icon-number">
                                                    <%=it.data[i]["puertas"]%>
                                                </div>
                                            </div>
                                            <% } %>
                                                <% if (it.data[i].aireacondicionado===1) { %>
                                                    <div class="servicios-aire">
                                                        <img class="icon-24" src="img/svg/aire.svg" alt="<%=it.locations.alt_aire %>">
                                                    </div>
                                                    <% } %>
                                                        <% if (it.data[i].transmision==="M" ) { %>
                                                            <div class="servicios-trasmision">
                                                                <img class="icon-24" src="img/svg/cambio_manual.svg"
                                                                    alt="<%=it.locations.alt_cambio_manual%>">
                                                                <div class="icon-number">M</div>
                                                            </div>
                                                            <%} else if (it.data[i].transmision==="A" ) { %>
                                                                <div class="servicios-trasmision">
                                                                    <img class="icon-24" src="img/svg/cambio_automatico.svg"
                                                                        alt="<%=it.locations.alt_cambio_auto%>">
                                                                    <div class="icon-number">A</div>
                                                                </div>
                                                                <% } %>
                                    </div>
                                </div>
                                <button class="btn botonVehiculo" name="vehiculo" value="<%= it.data[i].vehiculo %>">
                                    <%=it.locations.vereste%>
                                </button>
                            </div>
                            
                        </a>

                    </div>
                
                    <% } %>

                
            </section>
            <div class="blockSpace"></div>
            <div class="blockSpace"></div>
            <div class="blockSpace"></div>
            <div class="blockSpace"></div>
            <div class="blockSpace"></div>
            <div class="blockSpace"></div>
        </main>
        </div>
        <!------------ Fin  contenido ------------------------->

        <!------------ Inicio  Footer ------------------------->
        <%~ includeFile("footer.html", it) %>
        <!------------ Fin     Footer ------------------------->

    <!-- Fin container -->

        <script async src="./js/lazysizes.min.js"></script>
        
        <script async src="./js/index.js"></script>
        <script async src="./js/newsletter.js"></script>
        <script async src="./js/footer.js"></script>
        <script src="./js/clockpicker.js"></script>

        <script>
            
                const inputAnyosCar = document.getElementById('anyos_carnet');
                const inputEdadCondu = document.getElementById('edad_conductor');
                
                inputAnyosCar.addEventListener('invalid', function (event) {
                    CheckCarnetEdad(inputEdadCondu.value - 0, inputAnyosCar.value - 0);
                })

                inputAnyosCar.addEventListener('change', function (event) {
                    event.target.setCustomValidity('');
                    CheckCarnetEdad(inputEdadCondu.value - 0, inputAnyosCar.value - 0);
                })


                inputEdadCondu.addEventListener('invalid', function (event) 
                {
                    CheckCarnetEdad(inputEdadCondu.value - 0, inputAnyosCar.value - 0);
                });

                inputEdadCondu.addEventListener('change', function (event) 
                {
                    event.target.setCustomValidity('');
                    CheckCarnetEdad(inputEdadCondu.value - 0, inputAnyosCar.value - 0);
                });

                const CheckCarnetEdad = (edadConductor, edadCarnet) =>
                {
                    if (edadConductor > 70) {
                        event.target.setCustomValidity("<%=it.locations.error_validacion_edad_conductor_mas_70%>");
                    }
                    else if (edadConductor <= 20) {
                        event.target.setCustomValidity("<%=it.locations.error_validacion_edad_conductor_menos_20%>");
                    }
                    else if (edadConductor >= 21 && edadConductor <= 70 && edadCarnet < 2)
                    {
                        event.target.setCustomValidity("<%=it.locations.error_validacion_carnet_2_anyos %>");
                    }
                };

        </script>
        
        <!--------------------------- Scripts ---------------------------->
        <!---------------------------------------------------------------->
        <!---------------------------------------------------------------->
    


        <script>
            $.datepicker.regional['es'] = {
                closeText: '<%=it.locations.cerrar_clock%>',
                prevText: '<%=it.locations.anterior_clock %>',
                nextText: '<%=it.locations.siguiente_clock %>',
                currentText: '<%=it.locations.hoy_clock %>',
                monthNames: ['<%=it.locations.enero%>', '<%=it.locations.febrero%>', '<%=it.locations.marzo%>', '<%=it.locations.abril%>', '<%=it.locations.mayo%>', '<%=it.locations.junio%>', '<%=it.locations.julio%>', '<%=it.locations.agosto%>', '<%=it.locations.septiembre%>', '<%=it.locations.octubre%>', '<%=it.locations.noviembre%>', '<%=it.locations.diciembre%>'],
                monthNamesShort: ['<%=it.locations.corto_enero%>', '<%=it.locations.corto_febrero%>', '<%=it.locations.corto_marzo%>', '<%=it.locations.corto_abril%>', '<%=it.locations.corto_mayo%>', '<%=it.locations.corto_junio%>', '<%=it.locations.corto_julio%>', '<%=it.locations.corto_agosto%>', '<%=it.locations.corto_septiembre%>', '<%=it.locations.corto_octubre%>', '<%=it.locations.corto_noviembre%>', '<%=it.locations.corto_diciembre%>'],
                dayNames: ['<%=it.locations.domingo%>', '<%=it.locations.lunes%>', '<%=it.locations.martes%>', '<%=it.locations.miercoles%>', '<%=it.locations.jueves%>', '<%=it.locations.viernes%>', '<%=it.locations.sabado%>'],
                dayNamesShort: ['<%=it.locations.corto_domingo%>', '<%=it.locations.corto_lunes%>', '<%=it.locations.corto_martes%>', '<%=it.locations.corto_miercoles%>', '<%=it.locations.corto_jueves%>', '<%=it.locations.corto_viernes%>', '<%=it.locations.corto_sabado%>'],
                dayNamesMin: ['<%=it.locations.min_domingo%>', '<%=it.locations.min_lunes%>', '<%=it.locations.min_martes%>', '<%=it.locations.min_miercoles%>', '<%=it.locations.min_jueves%>', '<%=it.locations.min_viernes%>', '<%=it.locations.min_sabado%>'],
                weekHeader: 'Sm',
                dateFormat: 'dd/mm/yy',
                firstDay: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: ''
            };
        
            $.datepicker.setDefaults($.datepicker.regional['es']);
        </script>
        
        <!-- Scripts calendario Recogida/Devolucion ---------------------->
        <script> 
            $(function() {
                $("#fechaRecogida").datepicker({ dateFormat: 'D,dd-mm-yy', minDate:'1d' });
            //    comprobar que no machaque la fecha desde muestraoferta.html
                $("#fechaRecogida").datepicker("setDate", new Date());
                $(".triggerRec").click(function(){
                    $("#fechaRecogida").datepicker("show");
                }); 
            });
        </script>
        
        <script>
            $(function() {
                $("#fechaDevolucion").datepicker({ dateFormat: 'D,dd-mm-yy', minDate:'1d' });
                $fecha = new Date();
                $fecha.setDate($fecha.getDate() + 3);
                $("#fechaDevolucion").datepicker("setDate", $fecha );
                $(".triggerDev").click(function(){
                    $("#fechaDevolucion").datepicker("show");
                }); 
            });
        </script>
        <!--------- Fin Bootstrap Calendario Cupertino themes ------------>
        
        
        <!---------------------------- ClockPicker ----------------------->
        <script type="text/javascript">
            $('.clockpicker').clockpicker();
        </script>
        <!--------- --------------------------------------------------- -->

    </body>    
    
    </html>
        
